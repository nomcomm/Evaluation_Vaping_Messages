library(readr)
library(dplyr)
setwd("/Users/suelim/Documents/Research/Evaluation_Vaping_Messages/data/02_Data/Study 1/cleaned_data_files")
library(readr)
library(dplyr)
setwd("/Users/suelim/Documents/Research/Evaluation_Vaping_Messages/data/02_Data/Study 1/00_raw_data_files")
df_sona <- read_csv('study1_sona.csv')
df_sona
df_sona2 <- df_sona[-c(1, 2), ]
df_sona2
df_sona2 <- df_sona2 %>% rename(Duration = `Duration (in seconds)`)
df_sona2$Duration <- as.numeric(df_sona2$Duration)
library(readr)
library(dplyr)
setwd("/Users/suelim/Documents/Research/Evaluation_Vaping_Messages/data/02_Data/Study 1/00_raw_data_files")
df_sona <- read_csv('study1_sona.csv')
df_sona
df_sona2 <- df_sona[-c(1, 2), ]
colnames(df_sona2)
df_sona3 <- df_sona2[c(1:3, 5:7, 16:321)]
df_sona3 <- df_sona2[c(1:3, 5:7, 16:320)]
df_sona3
colnames(df_sona3)
write.csv(df_sona3, "study1_sona_anonymized", row.names = FALSE)
write.csv(df_sona3, "study1_sona_anonymized.csv", row.names = FALSE)
df_pro <- read_csv('study1_prolific.csv')
df_pro_demo <- read_csv('study1_prolific_demo.csv')
df_prolific <- merge(df_pro, df_pro_demo, by.x = "Prolific_ID", by.y = "Participant id")
df_pro_demo
df_pro
write.csv(df_prolific, "study1_prolific_anonymized.csv", row.names = FALSE)
colnames(df_prolific)
df_prolific2 <- df_prolific[c(2:4, 6:8, 17:320, 322, 324:329, 332:340)]
write.csv(df_prolific2, "study1_prolific_anonymized.csv", row.names = FALSE)
library(readr)
library(dplyr)
setwd("/Users/suelim/Documents/Research/Evaluation_Vaping_Messages/data/02_Data/Study 1/00_raw_data_files")
df_sona <- read_csv('study1_sona.csv')
df_sona2 <- df_sona[-c(1, 2), ]
df_sona3 <- df_sona2[c(1:3, 5:7, 16:320)]
df_prolific <- read_csv('study1_prolific.csv')
colnames(df_prolific)
df_prolific2 <- df_prolific[c(1:3, 5:7, 16:18, 20:320, 322)]
colnames(df_prolific2)
write.csv(df_prolific2, "study1_prolific_anonymized.csv", row.names = FALSE)
library(readr)
library(dplyr)
library(readr)
library(dplyr)
setwd("/Users/suelim/Documents/Research/Evaluation_Vaping_Messages/data/02_Data/Study 1/01_raw_data_anonymized")
df_pro <- read_csv('Prolific_cleaned.csv')
df_prolific <- read_csv('study1_prolific_anonymized.csv')
df_prolific2 <- df_prolific %>% rename(Duration = `Duration (in seconds)`)
df_prolific <- read_csv('study1_prolific_anonymized.csv')
df_prolific
df_prolific2 <- df_prolific[-c(1, 2), ]
df_prolific2
library(readr)
library(dplyr)
setwd("/Users/suelim/Documents/Research/Evaluation_Vaping_Messages/data/02_Data/Study 1/01_raw_data_anonymized")
df_prolific <- read_csv('study1_prolific_anonymized.csv')
df_prolific2 <- df_prolific[-c(1, 2), ]
df_prolific2
df_prolific2 <- df_prolific2 %>% rename(Duration = `Duration (in seconds)`)
df_prolific2$Duration <- as.numeric(df_prolific2$Duration)
df_prolific2 <- df_prolific2 %>% filter(Duration > 300)
library(readr)
library(dplyr)
setwd("/Users/suelim/Documents/Research/Evaluation_Vaping_Messages/data/02_Data/Study 1/01_raw_data_anonymized")
df_prolific <- read_csv('study1_prolific_anonymized.csv')
df_prolific2 <- df_prolific[-c(1, 2), ]
df_prolific2 <- df_prolific2 %>% rename(Duration = `Duration (in seconds)`)
df_prolific2$Duration <- as.numeric(df_prolific2$Duration)
# Get all the control columns
df_prolific2_cols <- grep("^C_", colnames(df_prolific2), value = TRUE)
library(readr)
library(dplyr)
setwd("/Users/suelim/Documents/Research/Evaluation_Vaping_Messages/data/02_Data/Study 1/01_raw_data_anonymized")
df_prolific <- read_csv('study1_prolific_anonymized.csv')
df_prolific2 <- df_prolific[-c(1, 2), ]
# Get all the control columns
df_prolific2_cols <- grep("^C_", colnames(df_prolific2), value = TRUE)
# Get all the treatment columns
df_prolific2_cols <- grep("^T_", colnames(df_prolific2), value = TRUE)
# For each pair of columns, combine them
for (i in 1:length(control_cols)) {
combined_col <- ifelse(is.na(df[,control_cols[i]]), df[,treatment_cols[i]], df[,control_cols[i]])
colname <- gsub("^C_", "", control_cols[i])
df[,colname] <- combined_col
}
# Get all the control columns
df_prolific2_control <- grep("^C_", colnames(df_prolific2), value = TRUE)
# Get all the treatment columns
df_prolific2_treatment <- grep("^T_", colnames(df_prolific2), value = TRUE)
# For each pair of columns, combine them
for (i in 1:length(control_cols)) {
combined_col <- ifelse(is.na(df[,control_cols[i]]), df[,treatment_cols[i]], df[,control_cols[i]])
colname <- gsub("^C_", "", control_cols[i])
df[,colname] <- combined_col
}
# For each pair of columns, combine them
for (i in 1:length(df_prolific2_control)) {
combined_col <-
ifelse(is.na(df[,df_prolific2_control[i]]), df[,df_prolific2_treatment[i]], df[,df_prolific2_control[i]])
colname <- gsub("^C_", "", control_cols[i])
df[,colname] <- combined_col
}
# For each pair of columns, combine them
for (i in 1:length(df_prolific2_control)) {
combined_col <-
ifelse(is.na(df[,df_prolific2_control[i]]), df[,df_prolific2_treatment[i]], df[,df_prolific2_control[i]])
colname <- gsub("^C_", "", control_cols[i])
df_prolific2[,colname] <- combined_col
}
# For each pair of columns, combine them
for (i in 1:length(df_prolific2_control)) {
combined_col <-
ifelse(is.na(df_prolific2[,df_prolific2_control[i]]), df_prolific2[,df_prolific2_treatment[i]], df_prolific2[,df_prolific2_control[i]])
colname <- gsub("^C_", "", control_cols[i])
df_prolific2[,colname] <- combined_col
}
# For each pair of columns, combine them
for (i in 1:length(df_prolific2_control)) {
combined_col <-
ifelse(is.na(df_prolific2[,df_prolific2_control[i]]), df_prolific2[,df_prolific2_treatment[i]], df_prolific2[,df_prolific2_control[i]])
colname <- gsub("^C_", "", df_prolific2_control[i])
df_prolific2[,colname] <- combined_col
}
df_prolific2_control
df_prolific2_treatment
df_prolific2_control
df_prolific2_treatment
df_prolific2
print(length(df_prolific2_control))
print(length(df_prolific2_treatment))
for (i in 1:length(df_prolific2_control)) {
print(paste("Control column:", df_prolific2_control[i], "Unique values:", length(unique(df_prolific2[,df_prolific2_control[i]]))))
print(paste("Treatment column:", df_prolific2_treatment[i], "Unique values:", length(unique(df_prolific2[,df_prolific2_treatment[i]]))))
}
for (i in 1:length(df_prolific2_control)) {
print(paste(df_prolific2_control[i], " - ", df_prolific2_treatment[i]))
}
